apiVersion: work.open-cluster-management.io/v1
kind: ManifestWork
metadata:
  name: local-cluster-klusterlet-addon-crds
spec:
  workload:
    manifests:
    - apiVersion: rbac.authorization.k8s.io/v1
      kind: ClusterRole
      metadata:
        labels:
          rbac.authorization.k8s.io/aggregate-to-admin: "true"
        name: open-cluster-management:klusterlet-addon-admin-aggregate-clusterrole
      rules:
      - apiGroups:
        - agent.open-cluster-management.io
        resources:
        - applicationmanagers
        - certpolicycontrollers
        - iampolicycontrollers
        - policycontrollers
        - searchcollectors
        - workmanagers
        verbs:
        - get
        - list
        - watch
        - create
        - update
        - patch
        - delete
    - apiVersion: apiextensions.k8s.io/v1
      kind: CustomResourceDefinition
      metadata:
        name: searchcollectors.agent.open-cluster-management.io
      spec:
        group: agent.open-cluster-management.io
        names:
          kind: SearchCollector
          listKind: SearchCollectorList
          plural: searchcollectors
          singular: searchcollector
        scope: Namespaced
        versions:
        - name: v1
          schema:
            openAPIV3Schema:
              description: SearchCollector is the Schema for the searchcollectors API
              properties:
                apiVersion:
                  description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
                  type: string
                kind:
                  description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                  type: string
                metadata:
                  type: object
                spec:
                  description: SearchCollectorSpec defines the desired state of SearchCollector
                  properties:
                    clusterName:
                      minLength: 1
                      type: string
                    clusterNamespace:
                      minLength: 1
                      type: string
                    fullnameOverride:
                      minLength: 1
                      type: string
                    global:
                      description: GlobalValues defines the global values
                      properties:
                        imageOverrides:
                          additionalProperties:
                            type: string
                          type: object
                        imagePullPolicy:
                          description: PullPolicy describes a policy for if/when to pull a container image
                          type: string
                        imagePullSecret:
                          type: string
                      type: object
                    hubKubeconfigSecret:
                      minLength: 1
                      type: string
                  required:
                  - clusterName
                  - clusterNamespace
                  - fullnameOverride
                  - hubKubeconfigSecret
                  type: object
                status:
                  description: SearchCollectorStatus defines the observed state of SearchCollector
                  type: object
              type: object
          served: true
          storage: true
          subresources:
            status: {}
    - apiVersion: apiextensions.k8s.io/v1
      kind: CustomResourceDefinition
      metadata:
        name: workmanagers.agent.open-cluster-management.io
      spec:
        group: agent.open-cluster-management.io
        names:
          kind: WorkManager
          listKind: WorkManagerList
          plural: workmanagers
          singular: workmanager
        scope: Namespaced
        versions:
        - name: v1
          schema:
            openAPIV3Schema:
              description: WorkManager is the Schema for the workmanagers API
              properties:
                apiVersion:
                  description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
                  type: string
                kind:
                  description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                  type: string
                metadata:
                  type: object
                spec:
                  description: WorkManagerSpec defines the desired state of WorkManager
                  properties:
                    clusterLabels:
                      additionalProperties:
                        type: string
                      type: object
                    clusterName:
                      minLength: 1
                      type: string
                    clusterNamespace:
                      minLength: 1
                      type: string
                    fullnameOverride:
                      minLength: 1
                      type: string
                    global:
                      description: GlobalValues defines the global values
                      properties:
                        imageOverrides:
                          additionalProperties:
                            type: string
                          type: object
                        imagePullPolicy:
                          description: PullPolicy describes a policy for if/when to pull a container image
                          type: string
                        imagePullSecret:
                          type: string
                      type: object
                    hubKubeconfigSecret:
                      minLength: 1
                      type: string
                  required:
                  - clusterLabels
                  - clusterName
                  - clusterNamespace
                  - fullnameOverride
                  - hubKubeconfigSecret
                  type: object
                status:
                  description: WorkManagerStatus defines the observed state of WorkManager
                  type: object
              type: object
          served: true
          storage: true
          subresources:
            status: {}
    - apiVersion: apiextensions.k8s.io/v1
      kind: CustomResourceDefinition
      metadata:
        name: certpolicycontrollers.agent.open-cluster-management.io
      spec:
        group: agent.open-cluster-management.io
        names:
          kind: CertPolicyController
          listKind: CertPolicyControllerList
          plural: certpolicycontrollers
          singular: certpolicycontroller
        scope: Namespaced
        versions:
        - name: v1
          schema:
            openAPIV3Schema:
              description: CertPolicyController is the Schema for the certpolicycontrollercontroller API
              properties:
                apiVersion:
                  description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
                  type: string
                kind:
                  description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                  type: string
                metadata:
                  type: object
                spec:
                  description: CertPolicyControllerSpec defines the desired state of CertPolicyController
                  properties:
                    clusterName:
                      minLength: 1
                      type: string
                    clusterNamespace:
                      minLength: 1
                      type: string
                    fullnameOverride:
                      minLength: 1
                      type: string
                    global:
                      description: GlobalValues defines the global values
                      properties:
                        imageOverrides:
                          additionalProperties:
                            type: string
                          type: object
                        imagePullPolicy:
                          description: PullPolicy describes a policy for if/when to pull a container image
                          type: string
                        imagePullSecret:
                          type: string
                      type: object
                    hubKubeconfigSecret:
                      minLength: 1
                      type: string
                  required:
                  - clusterName
                  - clusterNamespace
                  - fullnameOverride
                  - global
                  type: object
                status:
                  description: CertPolicyControllerStatus defines the observed state of CertPolicyController
                  type: object
              type: object
          served: true
          storage: true
          subresources:
            status: {}
    - apiVersion: apiextensions.k8s.io/v1
      kind: CustomResourceDefinition
      metadata:
        name: iampolicycontrollers.agent.open-cluster-management.io
      spec:
        group: agent.open-cluster-management.io
        names:
          kind: IAMPolicyController
          listKind: IAMPolicyControllerList
          plural: iampolicycontrollers
          singular: iampolicycontroller
        scope: Namespaced
        versions:
        - name: v1
          schema:
            openAPIV3Schema:
              description: IAMPolicyController is the Schema for the iampolicycontroller API
              properties:
                apiVersion:
                  description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
                  type: string
                kind:
                  description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                  type: string
                metadata:
                  type: object
                spec:
                  description: IAMPolicyControllerSpec defines the desired state of IAMPolicyController
                  properties:
                    clusterName:
                      minLength: 1
                      type: string
                    clusterNamespace:
                      minLength: 1
                      type: string
                    fullnameOverride:
                      minLength: 1
                      type: string
                    global:
                      description: GlobalValues defines the global values
                      properties:
                        imageOverrides:
                          additionalProperties:
                            type: string
                          type: object
                        imagePullPolicy:
                          description: PullPolicy describes a policy for if/when to pull a container image
                          type: string
                        imagePullSecret:
                          type: string
                      type: object
                    hubKubeconfigSecret:
                      minLength: 1
                      type: string
                  required:
                  - clusterName
                  - clusterNamespace
                  - fullnameOverride
                  type: object
                status:
                  description: IAMPolicyControllerStatus defines the observed state of IAMPolicyController
                  type: object
              type: object
          served: true
          storage: true
          subresources:
            status: {}
    - apiVersion: apiextensions.k8s.io/v1
      kind: CustomResourceDefinition
      metadata:
        name: policycontrollers.agent.open-cluster-management.io
      spec:
        group: agent.open-cluster-management.io
        names:
          kind: PolicyController
          listKind: PolicyControllerList
          plural: policycontrollers
          singular: policycontroller
        scope: Namespaced
        versions:
        - name: v1
          schema:
            openAPIV3Schema:
              description: PolicyController is the Schema for the policycontrollers API
              properties:
                apiVersion:
                  description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
                  type: string
                kind:
                  description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                  type: string
                metadata:
                  type: object
                spec:
                  description: PolicyControllerSpec defines the desired state of PolicyController
                  properties:
                    clusterName:
                      minLength: 1
                      type: string
                    clusterNamespace:
                      minLength: 1
                      type: string
                    deployedOnHub:
                      type: boolean
                    fullnameOverride:
                      minLength: 1
                      type: string
                    global:
                      description: GlobalValues defines the global values
                      properties:
                        imageOverrides:
                          additionalProperties:
                            type: string
                          type: object
                        imagePullPolicy:
                          description: PullPolicy describes a policy for if/when to pull a container image
                          type: string
                        imagePullSecret:
                          type: string
                      type: object
                    hubKubeconfigSecret:
                      minLength: 1
                      type: string
                    postDeleteJobServiceAccount:
                      type: string
                  required:
                  - fullnameOverride
                  - hubKubeconfigSecret
                  type: object
                status:
                  description: PolicyControllerStatus defines the observed state of PolicyController
                  type: object
              type: object
          served: true
          storage: true
          subresources:
            status: {}
    - apiVersion: apiextensions.k8s.io/v1
      kind: CustomResourceDefinition
      metadata:
        name: applicationmanagers.agent.open-cluster-management.io
      spec:
        group: agent.open-cluster-management.io
        names:
          kind: ApplicationManager
          listKind: ApplicationManagerList
          plural: applicationmanagers
          singular: applicationmanager
        scope: Namespaced
        versions:
        - name: v1
          schema:
            openAPIV3Schema:
              description: ApplicationManager is the Schema for the applicationmanagers API
              properties:
                apiVersion:
                  description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
                  type: string
                kind:
                  description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                  type: string
                metadata:
                  type: object
                spec:
                  description: ApplicationManagerSpec defines the desired state of ApplicationManager
                  properties:
                    clusterName:
                      minLength: 1
                      type: string
                    clusterNamespace:
                      minLength: 1
                      type: string
                    fullnameOverride:
                      minLength: 1
                      type: string
                    global:
                      description: GlobalValues defines the global values
                      properties:
                        imageOverrides:
                          additionalProperties:
                            type: string
                          type: object
                        imagePullPolicy:
                          description: PullPolicy describes a policy for if/when to pull a container image
                          type: string
                        imagePullSecret:
                          type: string
                      type: object
                    hubKubeconfigSecret:
                      minLength: 1
                      type: string
                  required:
                  - clusterName
                  - clusterNamespace
                  - fullnameOverride
                  - global
                  - hubKubeconfigSecret
                  type: object
                status:
                  description: ApplicationManagerStatus defines the observed state of ApplicationManager
                  type: object
              type: object
          served: true
          storage: true
          subresources:
            status: {}
    - apiVersion: apiextensions.k8s.io/v1
      kind: CustomResourceDefinition
      metadata:
        name: certpolicycontrollers.agent.open-cluster-management.io
      spec:
        group: agent.open-cluster-management.io
        names:
          kind: CertPolicyController
          listKind: CertPolicyControllerList
          plural: certpolicycontrollers
          singular: certpolicycontroller
        scope: Namespaced
        versions:
        - name: v1
          schema:
            openAPIV3Schema:
              description: CertPolicyController is the Schema for the certpolicycontrollercontroller API
              properties:
                apiVersion:
                  description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
                  type: string
                kind:
                  description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                  type: string
                metadata:
                  type: object
                spec:
                  description: CertPolicyControllerSpec defines the desired state of CertPolicyController
                  properties:
                    clusterName:
                      minLength: 1
                      type: string
                    clusterNamespace:
                      minLength: 1
                      type: string
                    fullnameOverride:
                      minLength: 1
                      type: string
                    global:
                      description: GlobalValues defines the global values
                      properties:
                        imageOverrides:
                          additionalProperties:
                            type: string
                          type: object
                        imagePullPolicy:
                          description: PullPolicy describes a policy for if/when to pull a container image
                          type: string
                        imagePullSecret:
                          type: string
                      type: object
                    hubKubeconfigSecret:
                      minLength: 1
                      type: string
                  required:
                  - clusterName
                  - clusterNamespace
                  - fullnameOverride
                  - global
                  type: object
                status:
                  description: CertPolicyControllerStatus defines the observed state of CertPolicyController
                  type: object
              type: object
          served: true
          storage: true
          subresources:
            status: {}
    - apiVersion: apiextensions.k8s.io/v1
      kind: CustomResourceDefinition
      metadata:
        name: certpolicycontrollers.agent.open-cluster-management.io
      spec:
        group: agent.open-cluster-management.io
        names:
          kind: CertPolicyController
          listKind: CertPolicyControllerList
          plural: certpolicycontrollers
          singular: certpolicycontroller
        scope: Namespaced
        versions:
        - name: v1
          schema:
            openAPIV3Schema:
              description: CertPolicyController is the Schema for the certpolicycontrollercontroller API
              properties:
                apiVersion:
                  description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
                  type: string
                kind:
                  description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                  type: string
                metadata:
                  type: object
                spec:
                  description: CertPolicyControllerSpec defines the desired state of CertPolicyController
                  properties:
                    clusterName:
                      minLength: 1
                      type: string
                    clusterNamespace:
                      minLength: 1
                      type: string
                    fullnameOverride:
                      minLength: 1
                      type: string
                    global:
                      description: GlobalValues defines the global values
                      properties:
                        imageOverrides:
                          additionalProperties:
                            type: string
                          type: object
                        imagePullPolicy:
                          description: PullPolicy describes a policy for if/when to pull a container image
                          type: string
                        imagePullSecret:
                          type: string
                      type: object
                    hubKubeconfigSecret:
                      minLength: 1
                      type: string
                  required:
                  - clusterName
                  - clusterNamespace
                  - fullnameOverride
                  - global
                  type: object
                status:
                  description: CertPolicyControllerStatus defines the observed state of CertPolicyController
                  type: object
              type: object
          served: true
          storage: true
          subresources:
            status: {}